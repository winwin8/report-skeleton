## Лабораторная работа 3 "Разработка драйверов сетевых устройств" p3404c Ван Юе

 

Цель работы: Получить знания и навыки разработки драйверов сетевых интерфейсов для операционной системы Linux.

 

#### Задачи: 

1.Написать драйвер сетевого интерфейса, удовлетворяющийтребованиям: 

1.1. Драйвер должен создавать виртуальный сетевой интерфейс в ОС Linux. 

1.2. Созданный сетевой интерфейс должен перехватывать пакеты родительского интерфейса (eth0 или другого). 

1.3. Сетевой интерфейс должен реализовывать логику работы с перехваченным трафиком в соответствии с заданиями по вариантам. 

1.4. Должна иметься возможность просмотра статистики работы созданного интерфейса.

 

#### вариант 1

Пакеты протокола ICMP (Internet Control Message Protocol) – только тип 8. Вывести данные. Состояние разбора пакетов необходимо выводить в файл в директории /proc

 

Описание функциональности драйвера

 

При загрузке драйвер создает сетевой интерфейс net0, который наследует настройки от интерфейса ens33. Помимо этого он создает файл /proc/info_packet с правами на чтение.

 

Captured ICMP package Type: 8

При чтении файла / proc / info_packet отображать содержимое синтаксического анализа пакета.



***

#### скомпилировать:

sudo make

 

#### Инструкция по применению:

1、 sudo insmod network_drv.ko

2、 sudo ifconfig ens33 down

3、 echo ens33 > /sys/kernel/debug/net0/slave

4、 sudo ifconfig ens33 up

5、 ifconfig net0 192.168.9.192

6、 Независимое оконное исполнение

7、 ping 192.168.9.31 Компьютерный хост

8、 cat /proc/info_packet
